# LiteFlow-Redis-improver
将规则信息初步与外部的redis进行对接，目前已支持通过http请求更改规则信息

## 架构图
![image](https://github.com/nacey5/LiteFlow-Redis-improver/assets/85286598/f2df746c-5ce4-403d-a154-052dfc1b27d7)


规划如下：
1. 成功对接redis 完成
2. redis存入数据并能从redis加载规则 完成
3. 通过http请求完成对redis规则的动态更改 完成
4. 使用监听模式，当key的键值更改时动态更新----->目前正在寻找一种方式对redis客户端直接更改能进行监听 完成
5. 伪监听：通过redis的发布订阅来进行第四个功能的伪装实现 完成
6. 外部传入java代码，完成热更新 完成
7. 动态实现bean类注册，外部完成支持动态更新类之后，要完成对bean类的更新 完成
8. 创建一套基于此套中台的rpc调用流程 搁置
   - a.前期先实现基于反射去调用 类名+方法名完成调用
   - b. 实现rpc调用，泛化调用
9. 代码优化持续中，实现以上基础功能之后，要考虑将上述的功能通用化，目前只考虑功能实现
   - a. 这里有很多细节，例如如何定位到类文件，是否需要设置缓存，redis作为库，是否需要用作二级缓存来实现
   - b. 希望后续使用泛化调用完成这个功能
10. 错误码排期
11. 网关功能
   - a.灰度 完成
   - b.拦截无效ak 进行中:
     - 目前存在bug，无法选择一个固定的redis库来保存数据  DEBUG
     - ak判断

